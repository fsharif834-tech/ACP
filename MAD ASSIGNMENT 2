import 'package:flutter/material.dart';

void main() => runApp(TravelGuideApp());

class TravelGuideApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Travel Guide',
      theme: ThemeData(primarySwatch: Colors.teal),
      home: TravelHomePage(),
      debugShowCheckedModeBanner: false,
    );
  }
}

class TravelHomePage extends StatefulWidget {
  @override
  _TravelHomePageState createState() => _TravelHomePageState();
}

class _TravelHomePageState extends State<TravelHomePage> {
  int _index = 0;
  final TextEditingController _controller = TextEditingController();

  final List<Map<String, String>> _destinations = [
    {"name": "Paris", "desc": "Eiffel Tower & cafés"},
    {"name": "Kyoto", "desc": "Temples & tea houses"},
    {"name": "New York", "desc": "Skyscrapers & Broadway"},
    {"name": "Rome", "desc": "Ruins & pasta"},
    {"name": "Cairo", "desc": "Pyramids & history"},
    {"name": "Sydney", "desc": "Opera House & beaches"},
    {"name": "Reykjavík", "desc": "Northern lights"},
    {"name": "Cape Town", "desc": "Table Mountain"},
    {"name": "Bangkok", "desc": "Street food & temples"},
    {"name": "Istanbul", "desc": "Bazaars & mosques"},
  ];

  final List<Map<String, String>> _landmarks = [
    {"title": "Eiffel", "img": "https://upload.wikimedia.org/wikipedia/commons/a/a8/Tour_Eiffel_Wikimedia_Commons.jpg"},
    {"title": "Great Wall", "img": "https://upload.wikimedia.org/wikipedia/commons/1/10/2014_The_Great_Wall_of_China_02.jpg"},
    {"title": "Taj Mahal", "img": "https://upload.wikimedia.org/wikipedia/commons/d/da/Taj-Mahal.jpg"},
    {"title": "Statue of Liberty", "img": "https://upload.wikimedia.org/wikipedia/commons/a/a1/Statue_of_Liberty_7.jpg"},
    {"title": "Sydney Opera", "img": "https://upload.wikimedia.org/wikipedia/commons/4/40/Sydney_Opera_House_Sails.jpg"},
    {"title": "Pyramids", "img": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Kheops-Pyramid.jpg"},
  ];

  Widget homeScreen() {
    return SingleChildScrollView(
      padding: EdgeInsets.all(12),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.stretch,
        children: [
          // Image
          ClipRRect(
            borderRadius: BorderRadius.circular(10),
            child: Image.network(
              'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1200&q=60',
              height: 180,
              fit: BoxFit.cover,
            ),
          ),
          SizedBox(height: 12),

          // Welcome box
          Container(
            padding: EdgeInsets.all(12),
            decoration: BoxDecoration(
              color: Colors.teal.shade50,
              borderRadius: BorderRadius.circular(8),
            ),
            child: Text(
              'Welcome to Travel Guide — find inspiration & plan your next trip!',
              style: TextStyle(fontSize: 16),
            ),
          ),
          SizedBox(height: 10),

          // RichText slogan
          RichText(
            text: TextSpan(
              style: TextStyle(fontSize: 20),
              children: [
                TextSpan(text: 'Explore ', style: TextStyle(fontWeight: FontWeight.bold, color: Colors.teal)),
                TextSpan(text: 'the World ', style: TextStyle(fontWeight: FontWeight.bold, color: Colors.deepOrange)),
                TextSpan(text: 'with Us', style: TextStyle(fontWeight: FontWeight.bold, color: Colors.purple)),
              ],
            ),
          ),
          SizedBox(height: 12),

          // TextField
          TextField(
            controller: _controller,
            decoration: InputDecoration(
              border: OutlineInputBorder(),
              labelText: 'Enter destination',
              hintText: 'e.g. Paris',
            ),
          ),
          SizedBox(height: 10),

          // Buttons row
          Row(
            children: [
              Expanded(
                child: ElevatedButton(
                  onPressed: () {
                    final text = _controller.text.trim();
                    final msg = text.isEmpty ? 'Searching for any destination...' : 'Searching for: $text';
                    ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text(msg)));
                  },
                  child: Text('Search'),
                ),
              ),
              SizedBox(width: 8),
              Expanded(
                child: TextButton(
                  onPressed: () {
                    _controller.clear();
                    ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text('Cleared')));
                  },
                  child: Text('Clear'),
                ),
              ),
            ],
          ),
        ],
      ),
    );
  }

  Widget listScreen() {
    return ListView.builder(
      padding: EdgeInsets.all(8),
      itemCount: _destinations.length,
      itemBuilder: (c, i) {
        final item = _destinations[i];
        return Card(
          child: ListTile(
            leading: CircleAvatar(child: Text(item['name']![0])),
            title: Text(item['name']!),
            subtitle: Text(item['desc']!),
            onTap: () => ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text('Selected ${item['name']}'))),
          ),
        );
      },
    );
  }

  Widget aboutScreen() {
    return Padding(
      padding: EdgeInsets.all(8),
      child: GridView.count(
        crossAxisCount: 2,
        childAspectRatio: 0.9,
        children: _landmarks.map((lm) {
          return Column(
            crossAxisAlignment: CrossAxisAlignment.stretch,
            children: [
              Expanded(
                child: ClipRRect(
                  borderRadius: BorderRadius.circular(8),
                  child: Image.network(lm['img']!, fit: BoxFit.cover),
                ),
              ),
              SizedBox(height: 6),
              Text(lm['title']!, textAlign: TextAlign.center, style: TextStyle(fontWeight: FontWeight.w600)),
            ],
          );
        }).toList(),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    final titles = ['Home', 'Destinations', 'About'];
    final bodies = [homeScreen(), listScreen(), aboutScreen()];

    return SafeArea(
      child: Scaffold(
        appBar: AppBar(title: Text('Travel Guide - ${titles[_index]}')),
        body: bodies[_index],
        bottomNavigationBar: BottomNavigationBar(
          currentIndex: _index,
          onTap: (i) => setState(() => _index = i),
          items: [
            BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Home'),
            BottomNavigationBarItem(icon: Icon(Icons.list), label: 'List'),
            BottomNavigationBarItem(icon: Icon(Icons.info), label: 'About'),
          ],
        ),
      ),
    );
  }
}
